---
import Base from '../../layouts/Base.astro';
import { caseStudies } from '../../content/case-studies';

const studyIcons: Record<string, string> = {
  'tokenization-platform': 'fa-solid fa-bolt',
  'multicloud-k8s-platform': 'fa-solid fa-cloud',
  'audit-ready-observability': 'fa-solid fa-chart-line',
};
---

<Base title="Past Projects - Mike Vincent" description="Past projects across platform, payments, and reliability work.">
  <section class="case-studies-list">
    <ul class="venture-list">
      {caseStudies.map((study) => (
        <li class="venture-row">
          <a class="venture-main-link" href={`/past-projects/${study.slug}/`}>
            <span class="venture-thumb venture-thumb--icon" aria-hidden="true">
              <i class={studyIcons[study.slug] ?? 'fa-solid fa-circle'}></i>
            </span>
            <div class="venture-lines">
              <h2>{study.title}</h2>
              <p class="venture-subtitle">
                {study.resultLine}
                {study.brands.length > 0 && ` • ${study.brands.map((brand) => brand.name).join(' • ')}`}
              </p>
            </div>
          </a>
        </li>
      ))}
    </ul>
  </section>
</Base>

<style>
  .case-studies-list {
    margin-left: -11px;
    margin-right: -11px;
    padding: 0 11px 8px;
  }

  .venture-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0;
  }

  .venture-row {
    margin: 0;
    list-style: none;
    border-top: 1px solid rgba(128, 128, 128, 0.2);
  }
  .venture-row:first-child {
    border-top: none;
  }

  .venture-main-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    text-decoration: none;
  }
  .venture-main-link,
  .venture-main-link:visited {
    color: inherit;
  }
  .venture-main-link:hover {
    text-decoration: none;
  }

  .venture-thumb {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0;
    overflow: hidden;
    flex: 0 0 auto;
  }
  .venture-thumb--icon {
    width: 36px;
    height: 36px;
    border-radius: 999px;
  }
  :global(.theme-dark) .venture-thumb--icon {
    background: rgba(255, 255, 255, 0.2);
  }
  :global(.theme-light) .venture-thumb--icon {
    background: rgba(0, 0, 0, 0.12);
  }
  .venture-thumb--icon i {
    font-size: 15px;
    line-height: 1;
  }
  :global(.theme-dark) .venture-thumb--icon i { color: var(--mv-text-dark-primary); }
  :global(.theme-light) .venture-thumb--icon i { color: var(--mv-text-light-primary); }

  .venture-lines {
    min-width: 0;
    display: grid;
    gap: 1px;
  }

  .venture-lines h2 {
    margin: 0;
    font-size: var(--mv-size-regular);
    font-weight: var(--mv-weight-regular);
    line-height: 1.2;
  }
  :global(.theme-dark) .venture-lines h2 { color: var(--mv-text-dark-primary); }
  :global(.theme-light) .venture-lines h2 { color: var(--mv-text-light-primary); }

  .venture-subtitle {
    margin: 0;
    font-size: var(--mv-size-regular);
    font-weight: var(--mv-weight-regular);
    line-height: 1.2;
    opacity: var(--mv-opacity-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  :global(.theme-dark) .venture-subtitle { color: var(--mv-text-dark-secondary); }
  :global(.theme-light) .venture-subtitle { color: var(--mv-text-light-secondary); }
</style>
